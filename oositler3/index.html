<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>oosit ayırıcı</title>
    <style>
        body { font-family: sans-serif; display: flex; flex-direction: column; align-items: center; background-color: #f0f2f5; }
        #container { max-width: 800px; width: 100%; background: white; padding: 20px; box-shadow: 0 0 10px rgba(0,0,0,0.1); text-align: center; }
        #image-display { max-width: 100%; max-height: 512px; border: 1px solid #ddd; margin-top: 15px;}
        #button-container { margin-top: 20px; display: flex; justify-content: center; flex-wrap: wrap; gap: 10px; }
        .class-btn, #download-btn { padding: 10px 20px; font-size: 16px; cursor: pointer; border: none; border-radius: 5px; }
        .class-btn { background-color: #007bff; color: white; }
        #download-btn { background-color: #28a745; color: white; margin-top: 20px; }
        #progress { margin-top: 15px; font-size: 18px; color: #555; }
    </style>
</head>
<body>

    <div id="container">
        <h1>oosit ayırıcı</h1>
        <p id="progress">Yükleniyor...</p>
        <img id="image-display" src="" alt="Etiketlenecek Görüntü">
        <div id="button-container"></div>
        <button id="download-btn">Etiketleri CSV Olarak İndir</button>
    </div>

    <script>
        // --- AYARLAR: BU BÖLÜMÜ DÜZENLEYİN ---

        // 1. Sınıf isimlerinizi buraya yazın
        const CLASSES = ["A", "B", "C", "D"];

        // 2. 'images' klasöründeki TÜM resim dosyalarınızın adlarını buraya LİSTELEYİN.
        // Bu adımı otomatikleştirmek için bir backend (Python gibi) gerekir,
        // statik HTML'de bu listeyi manuel olarak sağlamalıyız.
        const IMAGE_FILES = [
    "13_parca_01.png",
    "13_parca_02.png",
    "13_parca_03.png",
    "13_parca_04.png",
    "13_parca_05.png",
    "13_parca_06.png",
    "13_parca_07.png",
    "13_parca_08.png",
    "13_parca_09.png",
    "13_parca_10.png",
    "13_parca_11.png",
    "13_parca_12.png",
    "13_parca_13.png",
    "13_parca_14.png",
    "13_parca_15.png",
    "13_parca_16.png",
    "13_parca_17.png",
    "13_parca_18.png",
    "13_parca_19.png",
    "13_parca_20.png",
    "13_parca_21.png",
    "13_parca_22.png",
    "13_parca_23.png",
    "13_parca_24.png",
    "13_parca_25.png",
    "13_parca_26.png",
    "13_parca_27.png",
    "13_parca_28.png",
    "13_parca_29.png",
    "13_parca_30.png",
    "13_parca_31.png",
    "13_parca_32.png",
    "13_parca_33.png",
    "13_parca_34.png",
    "13_parca_35.png",
    "13_parca_36.png",
    "13_parca_37.png",
    "13_parca_38.png",
    "13_parca_39.png",
    "13_parca_40.png",
    "13_parca_41.png",
    "13_parca_42.png",
    "13_parca_43.png",
    "13_parca_44.png",
    "13_parca_45.png",
    "13_parca_46.png",
    "13_parca_47.png",
    "13_parca_48.png",
    "13_parca_49.png",
    "14_parca_01.png",
    "14_parca_02.png",
    "14_parca_03.png",
    "14_parca_04.png",
    "14_parca_05.png",
    "14_parca_06.png",
    "14_parca_07.png",
    "14_parca_08.png",
    "14_parca_09.png",
    "14_parca_10.png",
    "14_parca_11.png",
    "14_parca_12.png",
    "14_parca_13.png",
    "14_parca_14.png",
    "14_parca_15.png",
    "14_parca_16.png",
    "14_parca_17.png",
    "14_parca_18.png",
    "14_parca_19.png",
    "14_parca_20.png",
    "14_parca_21.png",
    "14_parca_22.png",
    "14_parca_23.png",
    "14_parca_24.png",
    "14_parca_25.png",
    "14_parca_26.png",
    "14_parca_27.png",
    "14_parca_28.png",
    "14_parca_29.png",
    "14_parca_30.png",
    "14_parca_31.png",
    "14_parca_32.png",
    "14_parca_33.png",
    "14_parca_34.png",
    "14_parca_35.png",
    "14_parca_36.png",
    "14_parca_37.png",
    "14_parca_38.png",
    "14_parca_39.png",
    "14_parca_40.png",
    "14_parca_41.png",
    "14_parca_42.png",
    "14_parca_43.png",
    "14_parca_44.png",
    "14_parca_45.png",
    "15_parca_01.png",
    "15_parca_02.png",
    "15_parca_03.png",
    "15_parca_04.png",
    "15_parca_05.png",
    "15_parca_06.png",
    "15_parca_07.png",
    "15_parca_08.png",
    "15_parca_09.png",
    "15_parca_10.png",
    "15_parca_11.png",
    "15_parca_12.png",
    "15_parca_13.png",
    "15_parca_14.png",
    "15_parca_15.png",
    "15_parca_16.png",
    "15_parca_17.png",
    "15_parca_18.png",
    "15_parca_19.png",
    "15_parca_20.png",
    "15_parca_21.png",
    "15_parca_22.png",
    "15_parca_23.png",
    "15_parca_24.png",
    "15_parca_25.png",
    "15_parca_26.png",
    "15_parca_27.png",
    "15_parca_28.png",
    "15_parca_29.png",
    "15_parca_30.png",
    "15_parca_31.png",
    "15_parca_32.png",
    "15_parca_33.png",
    "15_parca_34.png",
    "15_parca_35.png",
    "15_parca_36.png",
    "15_parca_37.png",
    "15_parca_38.png",
    "15_parca_39.png",
    "15_parca_40.png",
    "16_parca_01.png",
    "16_parca_02.png",
    "16_parca_03.png",
    "16_parca_04.png",
    "16_parca_05.png",
    "16_parca_06.png",
    "16_parca_07.png",
    "16_parca_08.png",
    "16_parca_09.png",
    "16_parca_10.png",
    "16_parca_11.png",
    "16_parca_12.png",
    "16_parca_13.png",
    "16_parca_14.png",
    "16_parca_15.png",
    "16_parca_16.png",
    "16_parca_17.png",
    "16_parca_18.png",
    "16_parca_19.png",
    "16_parca_20.png",
    "16_parca_21.png",
    "16_parca_22.png",
    "16_parca_23.png",
    "16_parca_24.png",
    "16_parca_25.png",
    "16_parca_26.png",
    "16_parca_27.png",
    "16_parca_28.png",
    "16_parca_29.png",
    "16_parca_30.png",
    "16_parca_31.png",
    "16_parca_32.png",
    "16_parca_33.png",
    "16_parca_34.png",
    "16_parca_35.png",
    "16_parca_36.png",
    "16_parca_37.png",
    "16_parca_38.png",
    "16_parca_39.png",
    "16_parca_40.png",
    "16_parca_41.png",
    "16_parca_42.png",
    "16_parca_43.png",
    "16_parca_44.png",
    "16_parca_45.png",
    "16_parca_46.png",
    "16_parca_47.png",
    "16_parca_48.png",
    "16_parca_49.png",
    "16_parca_50.png",
    "16_parca_51.png",
    "16_parca_52.png",
    "16_parca_53.png",
    "16_parca_54.png",
    "16_parca_55.png",
    "16_parca_56.png",
    "16_parca_57.png",
    "16_parca_58.png",
    "16_parca_59.png",
    "17_parca_01.png",
    "17_parca_02.png",
    "17_parca_03.png",
    "17_parca_04.png",
    "17_parca_05.png",
    "17_parca_06.png",
    "17_parca_07.png",
    "17_parca_08.png",
    "17_parca_09.png",
    "17_parca_10.png",
    "17_parca_11.png",
    "17_parca_12.png",
    "17_parca_13.png",
    "17_parca_14.png",
    "17_parca_15.png",
    "17_parca_16.png",
    "17_parca_17.png",
    "17_parca_18.png",
    "17_parca_19.png",
    "17_parca_20.png",
    "17_parca_21.png",
    "17_parca_22.png",
    "17_parca_23.png",
    "17_parca_24.png",
    "17_parca_25.png",
    "17_parca_26.png",
    "17_parca_27.png",
    "17_parca_28.png",
    "17_parca_29.png",
    "17_parca_30.png",
    "17_parca_31.png",
    "17_parca_32.png",
    "17_parca_33.png",
    "17_parca_34.png",
    "17_parca_35.png",
    "17_parca_36.png",
    "17_parca_37.png",
    "17_parca_38.png",
    "17_parca_39.png",
    "17_parca_40.png",
    "17_parca_41.png",
    "17_parca_42.png",
    "17_parca_43.png",
    "17_parca_44.png",
    "17_parca_45.png",
    "17_parca_46.png",
    "17_parca_47.png",
    "17_parca_48.png",
    "18_parca_01.png",
    "18_parca_02.png",
    "18_parca_03.png",
    "18_parca_04.png",
    "18_parca_05.png",
    "18_parca_06.png",
    "18_parca_07.png",
    "18_parca_08.png",
    "18_parca_09.png",
    "18_parca_10.png",
    "18_parca_11.png",
    "18_parca_12.png",
    "18_parca_13.png",
    "18_parca_14.png",
    "18_parca_15.png",
    "18_parca_16.png",
    "18_parca_17.png",
    "18_parca_18.png",
    "18_parca_19.png",
    "18_parca_20.png",
    "18_parca_21.png",
    "18_parca_22.png",
    "18_parca_23.png",
    "18_parca_24.png",
    "18_parca_25.png",
    "18_parca_26.png",
    "18_parca_27.png",
    "18_parca_28.png",
    "18_parca_29.png",
    "18_parca_30.png",
    "18_parca_31.png",
    "18_parca_32.png",
    "18_parca_33.png",
    "18_parca_34.png",
    "18_parca_35.png",
    "18_parca_36.png",
    "18_parca_37.png",
    "18_parca_38.png",
    "18_parca_39.png",
    "18_parca_40.png",
    "18_parca_41.png",
    "18_parca_42.png",
    "18_parca_43.png",
    "18_parca_44.png",
    "18_parca_45.png",
    "18_parca_46.png",
    "18_parca_47.png",
    "18_parca_48.png",
    "18_parca_49.png",
    "18_parca_50.png",
    "18_parca_51.png",
    "18_parca_52.png",
    "18_parca_53.png",
    "18_parca_54.png",
    "18_parca_55.png",
    "18_parca_56.png",
    "18_parca_57.png",
    "18_parca_58.png",
    "18_parca_59.png",
    "18_parca_60.png",
    "18_parca_61.png",
    "18_parca_62.png",
    "18_parca_63.png",
    "19_parca_01.png",
    "19_parca_02.png",
    "19_parca_03.png",
    "19_parca_04.png",
    "19_parca_05.png",
    "19_parca_06.png",
    "19_parca_07.png",
    "19_parca_08.png",
    "19_parca_09.png",
    "19_parca_10.png",
    "19_parca_11.png",
    "19_parca_12.png",
    "19_parca_13.png",
    "19_parca_14.png",
    "19_parca_15.png",
    "19_parca_16.png",
    "19_parca_17.png",
    "19_parca_18.png",
    "19_parca_19.png",
    "19_parca_20.png",
    "19_parca_21.png",
    "19_parca_22.png",
    "19_parca_23.png",
    "19_parca_24.png",
    "19_parca_25.png",
    "19_parca_26.png",
    "19_parca_27.png",
    "19_parca_28.png",
    "19_parca_29.png",
    "19_parca_30.png",
    "19_parca_31.png",
    "19_parca_32.png",
    "19_parca_33.png",
    "19_parca_34.png",
    "19_parca_35.png",
    "19_parca_36.png",
    "19_parca_37.png",
    "19_parca_38.png",
    "19_parca_39.png",
    "19_parca_40.png",
    "19_parca_41.png",
    "19_parca_42.png",
    "19_parca_43.png",
    "19_parca_44.png",
    "19_parca_45.png",
    "19_parca_46.png",
    "19_parca_47.png",
    "19_parca_48.png",
    "19_parca_49.png",
    "19_parca_50.png",
    "19_parca_51.png",
    "19_parca_52.png",
    "19_parca_53.png",
    "19_parca_54.png",
    "19_parca_55.png",
    "19_parca_56.png",
    "19_parca_57.png",
    "19_parca_58.png",
    "19_parca_59.png",
    "19_parca_60.png",
    "19_parca_61.png",
    "19_parca_62.png",
    "19_parca_63.png",
    "19_parca_64.png",
    "19_parca_65.png",
    "20_parca_01.png",
    "20_parca_02.png",
    "20_parca_03.png",
    "20_parca_04.png",
    "20_parca_05.png",
    "20_parca_06.png",
    "20_parca_07.png",
    "20_parca_08.png",
    "20_parca_09.png",
    "20_parca_10.png",
    "20_parca_11.png",
    "20_parca_12.png",
    "20_parca_13.png",
    "20_parca_14.png",
    "20_parca_15.png",
    "20_parca_16.png",
    "20_parca_17.png",
    "20_parca_18.png",
    "20_parca_19.png",
    "20_parca_20.png",
    "20_parca_21.png",
    "20_parca_22.png",
    "20_parca_23.png",
    "20_parca_24.png",
    "20_parca_25.png",
    "20_parca_26.png",
    "20_parca_27.png",
    "20_parca_28.png",
    "20_parca_29.png",
    "20_parca_30.png",
    "20_parca_31.png",
    "20_parca_32.png",
    "20_parca_33.png",
    "20_parca_34.png",
    "20_parca_35.png",
    "20_parca_36.png",
    "20_parca_37.png",
    "20_parca_38.png",
    "20_parca_39.png",
    "20_parca_40.png",
    "20_parca_41.png",
    "20_parca_42.png",
    "20_parca_43.png",
    "20_parca_44.png",
    "20_parca_45.png",
    "20_parca_46.png",
    "20_parca_47.png",
    "20_parca_48.png",
    "20_parca_49.png",
    "20_parca_50.png",
    "20_parca_51.png",
    "20_parca_52.png",
    "20_parca_53.png",
    "20_parca_54.png",
    "20_parca_55.png",
    "21_parca_01.png",
    "21_parca_02.png",
    "21_parca_03.png",
    "21_parca_04.png",
    "21_parca_05.png",
    "21_parca_06.png",
    "21_parca_07.png",
    "21_parca_08.png",
    "21_parca_09.png",
    "21_parca_10.png",
    "21_parca_11.png",
    "21_parca_12.png",
    "21_parca_13.png",
    "21_parca_14.png",
    "21_parca_15.png",
    "21_parca_16.png",
    "21_parca_17.png",
    "21_parca_18.png",
    "21_parca_19.png",
    "21_parca_20.png",
    "21_parca_21.png",
    "21_parca_22.png",
    "21_parca_23.png",
    "21_parca_24.png",
    "21_parca_25.png",
    "21_parca_26.png",
    "21_parca_27.png",
    "21_parca_28.png",
    "21_parca_29.png",
    "21_parca_30.png",
    "21_parca_31.png",
    "21_parca_32.png",
    "21_parca_33.png",
    "21_parca_34.png",
    "21_parca_35.png",
    "21_parca_36.png",
    "21_parca_37.png",
    "21_parca_38.png",
    "21_parca_39.png",
    "21_parca_40.png",
    "21_parca_41.png",
    "21_parca_42.png",
    "21_parca_43.png",
    "21_parca_44.png",
    "21_parca_45.png",
    "21_parca_46.png",
    "21_parca_47.png",
    "21_parca_48.png",
    "21_parca_49.png",
    "21_parca_50.png",
    "21_parca_51.png",
    "21_parca_52.png",
    "21_parca_53.png",
    "21_parca_54.png",
    "21_parca_55.png",
    "21_parca_56.png",
    "21_parca_57.png",
    "21_parca_58.png",
    "21_parca_59.png",
    "21_parca_60.png",
    "21_parca_61.png",
    "21_parca_62.png",
    "21_parca_63.png",
    "21_parca_64.png",
    "21_parca_65.png",
    "21_parca_66.png",
    "21_parca_67.png",
    "21_parca_68.png",
    "21_parca_69.png",
    "22_parca_01.png",
    "22_parca_02.png",
    "22_parca_03.png",
    "22_parca_04.png",
    "22_parca_05.png",
    "22_parca_06.png",
    "22_parca_07.png",
    "22_parca_08.png",
    "22_parca_09.png",
    "22_parca_10.png",
    "22_parca_11.png",
    "22_parca_12.png",
    "22_parca_13.png",
    "22_parca_14.png",
    "22_parca_15.png",
    "22_parca_16.png",
    "22_parca_17.png",
    "22_parca_18.png",
    "22_parca_19.png",
    "22_parca_20.png",
    "22_parca_21.png",
    "22_parca_22.png",
    "22_parca_23.png",
    "22_parca_24.png",
    "22_parca_25.png",
    "22_parca_26.png",
    "22_parca_27.png",
    "22_parca_28.png",
    "22_parca_29.png",
    "22_parca_30.png",
    "22_parca_31.png",
    "22_parca_32.png",
    "22_parca_33.png",
    "22_parca_34.png",
    "22_parca_35.png",
    "22_parca_36.png",
    "22_parca_37.png",
    "22_parca_38.png",
    "22_parca_39.png",
    "22_parca_40.png",
    "22_parca_41.png",
    "22_parca_42.png",
    "22_parca_43.png",
    "22_parca_44.png",
    "22_parca_45.png",
    "22_parca_46.png",
    "22_parca_47.png",
    "22_parca_48.png",
    "22_parca_49.png",
    "22_parca_50.png",
    "22_parca_51.png",
    "22_parca_52.png",
    "22_parca_53.png",
    "22_parca_54.png",
    "22_parca_55.png",
    "22_parca_56.png",
    "23_parca_01.png",
    "23_parca_02.png",
    "23_parca_03.png",
    "23_parca_04.png",
    "23_parca_05.png",
    "23_parca_06.png",
    "23_parca_07.png",
    "23_parca_08.png",
    "23_parca_09.png",
    "23_parca_10.png",
    "23_parca_11.png",
    "23_parca_12.png",
    "23_parca_13.png",
    "23_parca_14.png",
    "23_parca_15.png",
    "23_parca_16.png",
    "23_parca_17.png",
    "23_parca_18.png",
    "23_parca_19.png",
    "23_parca_20.png",
    "23_parca_21.png",
    "23_parca_22.png",
    "23_parca_23.png",
    "23_parca_24.png",
    "23_parca_25.png",
    "23_parca_26.png",
    "23_parca_27.png",
    "23_parca_28.png",
    "23_parca_29.png",
    "23_parca_30.png",
    "23_parca_31.png",
    "23_parca_32.png",
    "23_parca_33.png",
    "23_parca_34.png",
    "23_parca_35.png",
    "23_parca_36.png",
    "23_parca_37.png",
    "23_parca_38.png",
    "23_parca_39.png",
    "23_parca_40.png",
    "23_parca_41.png",
    "23_parca_42.png",
    "23_parca_43.png",
    "23_parca_44.png",
    "23_parca_45.png",
    "23_parca_46.png",
    "23_parca_47.png",
    "23_parca_48.png",
    "23_parca_49.png",
    "23_parca_50.png"
];

        // --- UYGULAMA KODU (Bu bölümü değiştirmeyin) ---

        const imageDisplay = document.getElementById('image-display');
        const buttonContainer = document.getElementById('button-container');
        const progressText = document.getElementById('progress');
        const downloadBtn = document.getElementById('download-btn');
        const ANNOTATION_KEY = 'imageAnnotations';

        let annotations = {};
        let currentIndex = 0;

        // Sayfa yüklendiğinde çalışacak fonksiyon
        window.onload = () => {
            // Tarayıcı hafızasından eski etiketleri yükle
            const savedAnnotations = localStorage.getItem(ANNOTATION_KEY);
            if (savedAnnotations) {
                annotations = JSON.parse(savedAnnotations);
            }
            
            // Sınıf butonlarını oluştur
            CLASSES.forEach(className => {
                const button = document.createElement('button');
                button.innerText = className;
                button.className = 'class-btn';
                button.onclick = () => annotate(className);
                buttonContainer.appendChild(button);
            });

            // Bir sonraki etiketlenmemiş resmi bul ve göster
            findNextUnannotated();
        };

        function findNextUnannotated() {
            while (currentIndex < IMAGE_FILES.length && annotations[IMAGE_FILES[currentIndex]]) {
                currentIndex++;
            }
            displayImage();
        }

        function displayImage() {
            if (currentIndex < IMAGE_FILES.length) {
                const imageName = IMAGE_FILES[currentIndex];
                imageDisplay.src = `oositler/${imageName}`;
                progressText.innerText = `Resim ${currentIndex + 1} / ${IMAGE_FILES.length} (${imageName})`;
            } else {
                imageDisplay.style.display = 'none';
                progressText.innerText = `Tüm resimleri etiketlediniz. (${IMAGE_FILES.length} adet)`;
                buttonContainer.style.display = 'none';
            }
        }

        function annotate(className) {
            if (currentIndex < IMAGE_FILES.length) {
                const imageName = IMAGE_FILES[currentIndex];
                annotations[imageName] = className;
                
                // Anlık olarak tarayıcı hafızasına kaydet
                localStorage.setItem(ANNOTATION_KEY, JSON.stringify(annotations));
                
                currentIndex++;
                displayImage();
            }
        }

        downloadBtn.onclick = () => {
            let csvContent = "data:text/csv;charset=utf-8,dosya_adi,sinif\n";
            
            for (const [filename, classLabel] of Object.entries(annotations)) {
                csvContent += `${filename},${classLabel}\n`;
            }

            const encodedUri = encodeURI(csvContent);
            const link = document.createElement("a");
            link.setAttribute("href", encodedUri);
            link.setAttribute("download", "etiketler.csv");
            document.body.appendChild(link);
            link.click();
            document.body.removeChild(link);
        };
    </script>
</body>
</html>